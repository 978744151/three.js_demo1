<!DOCTYPE html>
<html>
<head>
    <!-- 移动相机的位置-->
    <meta charset="UTF-8">
    <title>WebGL中文网</title>
    <script src="../build/three.min.js"></script>
    <script src="../build/tween.min.js"></script>
    <script src="../build/stats.min.js"></script>

    <style type="text/css">
        div#canvas-frame {
            border: none;
            cursor: pointer;
            width: 100%;
            height: 600px;
            background-color: #EEEEEE;
        }

    </style>
    <script>
        /*
         * 围绕某个 x,y,z轴测试
         */


        var renderer;
        var stats;

        function initThree() {
            //初始化宽度高度
            width = document.getElementById('canvas-frame').clientWidth;
            height = document.getElementById('canvas-frame').clientHeight;
            renderer = new THREE.WebGLRenderer({
                antialias : true
            });

            renderer.setSize(width, height);
            document.getElementById('canvas-frame').appendChild(renderer.domElement);
            renderer.setClearColor(0xFFFFFF, 1.0);

//            检查插件
            stats = new Stats();
            stats.domElement.style.position = 'absolute';
            stats.domElement.style.left = '10px';
            stats.domElement.style.top = '20px';
            document.getElementById('canvas-frame').appendChild(stats.domElement);
        }
//初始化相机
        var camera;
        function initCamera() {
            camera = new THREE.PerspectiveCamera(45, width / height, 1, 10000);
            camera.position.x = 100;
            camera.position.y = 1000;
            camera.position.z = 100;
            camera.up.x = 0;
            camera.up.y = 1;
            camera.up.z = 0;//看的角度
            camera.lookAt(0,1,0);
        }

        var scene;
        function initScene() {
            scene = new THREE.Scene();
        }
//初始化灯源
        var light;
        function initLight() {
            light = new THREE.AmbientLight("#FFB6C1");
            light.position.set(400, 400, 400);
            scene.add(light);

        }

        var cube;
        var mesh;
        //初始化对象
        function initObject() {
            var geometry = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry2 = new THREE.BoxGeometry( 20, 20, 20 )
            var geometry3 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry4 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry5 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry6 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry7 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry8 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry9 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry10 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小
            var geometry11 = new THREE.BoxGeometry( 20, 20, 20 );//几何的大小

            for ( var i = 0; i < geometry.faces.length; i += 2 ) {
                // console.log(geometry.faces);
            var hex = Math.random() * 0xffffff;
            geometry.faces[ i ].color.setHex( hex );
            geometry.faces[ i + 1 ].color.setHex( hex );
            geometry2.faces[ i ].color.setHex( hex );
            geometry2.faces[ i + 1 ].color.setHex( hex );
            geometry3.faces[ i ].color.setHex( hex );
            geometry3.faces[ i + 1 ].color.setHex( hex );
            geometry4.faces[ i ].color.setHex( hex );
            geometry4.faces[ i + 1 ].color.setHex( hex );
            geometry5.faces[ i ].color.setHex( hex );
            geometry5.faces[ i + 1 ].color.setHex( hex );
            geometry6.faces[ i ].color.setHex( hex );
            geometry6.faces[ i + 1 ].color.setHex( hex );
            }
//材质 渲染后    这些可视属性是指表面的色彩、纹理、光滑度、透明度、反射率、折射率、发光度等。
            var material = new THREE.MeshBasicMaterial( { vertexColors: THREE.FaceColors} );
            mesh = new THREE.Mesh( geometry,material);
            mesh1 = new THREE.Mesh( geometry2,material)
            mesh2 = new THREE.Mesh( geometry2,material)
            mesh3 = new THREE.Mesh( geometry2,material)
            mesh4 = new THREE.Mesh( geometry2,material)
            mesh5 = new THREE.Mesh( geometry2,material)
            mesh6 = new THREE.Mesh( geometry2,material)
            mesh7 = new THREE.Mesh( geometry2,material)
            mesh8 = new THREE.Mesh( geometry2,material)
            mesh9 = new THREE.Mesh( geometry2,material)
            mesh10 = new THREE.Mesh( geometry2,material)
            mesh11 = new THREE.Mesh( geometry2,material)

            mesh.position = new THREE.Vector3(0,0,0);
            mesh1.position = new THREE.Vector3(0,0,0);
            mesh2.position = new THREE.Vector3(0,0,0);
            mesh3.position = new THREE.Vector3(0,0,0);
            mesh4.position = new THREE.Vector3(0,0,0);
            mesh5.position = new THREE.Vector3(0,0,0);
            mesh6.position = new THREE.Vector3(0,0,0);
            mesh7.position = new THREE.Vector3(0,0,0);
            mesh8.position = new THREE.Vector3(0,0,0);
            mesh9.position = new THREE.Vector3(0,0,0);
            mesh10.position = new THREE.Vector3(0,0,0);
            mesh11.position = new THREE.Vector3(0,0,0);

            mesh.position.x = 60;
            mesh1.position.y = 100;
            mesh2.position.x = -60;
            mesh3.position.z = -60;
            mesh4.position.z = -110;
            mesh5.position.z = 110;
            mesh6.position.x = -110;
            mesh7.position.x = 110;
            mesh8.position.y = 150;
            mesh9.position.y = -150;
            mesh10.position.z = 200;
            mesh11.position.y = 200;

            scene.add(mesh);
            scene.add(mesh1)
            scene.add(mesh2)
            scene.add(mesh3)
            scene.add(mesh4)
            scene.add(mesh5)
            scene.add(mesh6)
            scene.add(mesh7)
            scene.add(mesh8)
            scene.add(mesh9)
            mesh10["maxY"] = 100;
            mesh10["minx"] = 50;
            console.log(mesh10.position.y);
            // Player.el = mesh10;
            console.log(mesh10);
            console.log(mesh10.maxY);
            scene.add(mesh10)
            // scene.add(mesh11)

            // 球体
                var radius = 50, segemnt = 16, rings = 16;
                 var color = Math.random() * 0xffffff;

                var sphereMaterial = new THREE.MeshLambertMaterial({ color: color });

                var sphere = new THREE.Mesh(
                    new THREE.SphereGeometry(radius,segemnt,rings),
                    sphereMaterial
                    );
                // sphere.color.setHex( color );
                // sphere.position.x = 10;
                // sphere.position.y = 200;
                // sphere.position.z = 150;
                sphere.geometry.verticesNeedUpdate = true;
                sphere.geometry.normalsNeedUpdate = true;

                scene.add(sphere);

                var pointLight = new THREE.PointLight(0XFFFFFF);

                pointLight.position.x = 10;
                pointLight.position.y = 200;
                pointLight.position.z = 150;

                scene.add(pointLight);

        }
//初始化网格
        function initGrid(){
            var helper = new THREE.GridHelper( 3000,100 ,1000,2000);//生成了一个网格模型，边长为1000，大网格中有小网格，小网格的边长是50.
            helper.setColors( "#FFC0CB", "#0000FF");
            //网格线的颜色一头是0x0000ff，另一头是0x808080。线段中间的颜色取这两个颜色的插值颜色。
            scene.add(helper);
        }

        function threeStart() {
            initThree();
            initCamera();
            initScene();
            initLight();


            initObject();
            initGrid();

            animation();
            fu1()
            // onTouchstart()
            // onTouchend()
        }

        // function onTouchstart(){

        //     touchstatus = 1;
        // }
        // function onTouchend () {
        //     touchstatus = 0;
        //     jumpstatus = 1;
        // }
        var jumpMaxheight,jumpspeed;
        var xz = 0;
        // var Player = {
        //     jumpstatus : 0,
        //     el : null
        // }
        // var jumpstatus = 1
        // var touchstatus = 1;
        var jumpstatus = 1
        // 循环动画
        var timer = setInterval(fu1,15)

        // 帧循环、游戏循环
        function fu1(){
            console.log(1);
           // sphere.position.y += 1;
                // 如果y<100
                // 那么y x 轴 +=1
                if(+mesh3.position.y < +mesh10.maxY){
                    mesh3.position.y += 1;
                }
                // 如果y轴等于100；
                // 那么 x 轴 += 1；
                else if(+mesh3.position.y == +mesh10.maxY){
                    mesh3.position.x += 1;
                // 如果x轴 等于 100
                // 那么 y 轴 -= 1
                }else if(+mesh3.position.x >= 10){
                    mesh3.position.y -= 1;
                    // mesh3.position.x -= 1;
                    console.log( mesh3.position.y);
                // 如果y轴小于0 那么清楚定时器动画
                }else if( +mesh3.position.y < 0){
                    clearInterval(timer);
                    console.log(2);
                }
            // mesh3.position.y += 1;
            renderer.render(scene, camera);
            // requestAnimationFrame(animation);
        }
        function animation()
        {
            camera.rotation.z += 0.001
            // camera.rotation.y += 0.001
            mesh1.rotation.y += (mesh1.rotation.y + 0.01) % (Math.PI * 2);
        mesh10

            mesh.position.x += 0.5;
            // mesh1.position.z +=0.3;//可以让页面进行自动进行动画
            mesh2.position.x -=0.3;//可以让页面进行自动进行动画
            //可以让页面进行自动进行动画
         //可以让页面进行自动进行动画
            mesh4.position.y +=0.5
            mesh5.position.y +=0.5
            mesh6.position.z +=0.5
            mesh7.position.z +=0.5
            mesh8.position.x +=0.5
            mesh9.position.x +=0.5
            // mesh10.position.y +=0.5
            // if(touchstatus==1){
            //     xz+=0.2;
            // }
            if(jumpstatus==1){
                if(+mesh10.position.y <  +mesh10.maxY){
                    mesh10.position.y += 1;
                }else if(+mesh10.position.y > 100){
                    mesh10.position.x -=1;
                }else{
                    jumpstatus == 0
                }
            }
            // mesh11.position.z +=0.5
            renderer.render(scene, camera);
            requestAnimationFrame(animation);

        }

    </script>
</head>

<body onload="threeStart();">
<div style="margin-left:150px;">
</div>
<div id="canvas-frame"></div>
</body>
</html>